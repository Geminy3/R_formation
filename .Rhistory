knitr::opts_chunk$set(echo = TRUE)
library(knitr)
library(openxlsx) ### Librairie pour l'import de fichier excel
library(tidyverse) ### Librairie incontournable, mais nous y reviendrons
library(questionr) ### QuestionR apporte un ensemble de fonctions et de données classique de R
library(kableExtra)
mv
cp
df <- openxlsx::read.xlsx("sources/vico2020.xlsx", colNames = TRUE)
df <- openxlsx::read.xlsx("Sources/vico2020.xlsx", colNames = TRUE)
df <- openxlsx::read.xlsx("Sources/DONNEES_RJC_18_11.xlsx", colNames = TRUE)
knit_with_parameters("~/1 - Formation/Formation/Formation_recodage.Rmd")
knit_with_parameters("~/1 - Formation/Formation/Formation_recodage.Rmd")
setwd("./bookdown/")
bookdown::render_book("foo.Rmd", "bookdown::html_book")
bookdown::render_book("bookdown::html_book")
bookdown::render_book("bookdown::html_book")
bookdown:::serve_book()
bookdown:::serve_book()
bookdown::render_book("foo.Rmd", "bookdown::gitbook")
bookdown::render_book('0._Introduction.Rmd', 'all')
bookdown::render_book('0._Introduction.Rmd', 'all')
bookdown::render_book('0._Introduction.Rmd', 'all')
bookdown::render_book('0._Introduction.Rmd', 'all')
bookdown::render_book('0._Introduction.Rmd', 'all')
bookdown::render_book('0._Introduction.Rmd', 'all')
bookdown::render_book('0._Introduction.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
bookdown::render_book('index.Rmd', 'all')
knitr::opts_chunk$set(echo = TRUE)
library(kableExtra)
library(openxlsx) ### Librairie pour l'import de fichier excel
library(tidyverse) ### Librairie incontournable, mais nous y reviendrons
library(questionr) ### QuestionR apporte un ensemble de fonctions et de données classique de R
library(kableExtra)
df <- openxlsx::read.xlsx("sources/vico2020.xlsx", colNames = TRUE)
select(df, SEXE, RESNB, AGE)
df2 <- select(df, SEXE, RESNB, AGE)
df[filter(df, AGE > 30)]
filter(df, AGE > 30) <- "30"
df$AGE[filter(df, AGE > 30)] <- "30"
library(tidyverse)
library(questionR)
library(openxlsx)
df <- openxlsx::read.xlsx("./Sources/vico2020.xlsx")
df
select(df, AGE, SEXE)
select(df, AGE, SEXE) & filter(df, AGE %in% 20:62)
filter(select(df, AGE, SEXE), AGE %in% 20:62)
df2 <- filter(select(df, AGE, SEXE), AGE %in% 20:62)
View(df2)
arrange(filter(select(df, AGE, SEXE), AGE %in% 20:62), desc(SEXE))
arrange(filter(select(df, AGE, SEXE), AGE %in% 20:62), desc(AGE))
View(df2)
df2 <- arrange(filter(select(df, AGE, SEXE), AGE %in% 20:62), desc(AGE))
View(df2)
df2 <- select(df, AGE, SEXE)
df2 <- filter(df2, AGE %in% 20:62)
df2 <- arrange(df2, desc(62))
View(df)
View(df2)
View(df2)
df <- openxlsx::read.xlsx("./Sources/vico2020.xlsx")
df2 <- select(df, AGE, SEXE)
df2 <- filter(df2, AGE %in% 20:62)
df2 <- arrange(df2, desc(62))
View(df2)
View(df2)
df2 <- arrange(df2, desc(AGE))
View(df2)
df %>% select(AGE, SEXE) %>% filter(AGE %in% 20:62) %>% arrange(desc(AGE))
df2 <- df %>% select(AGE, SEXE) %>% filter(AGE %in% 20:62) %>% arrange(desc(AGE))
View(df2)
df2 <- df %>%
select(AGE, SEXE) %>%
filter(AGE %in% 20:62) %>%
arrange(desc(AGE))
df2 <- df %>%
select(AGE, SEXE) %>%
filter(AGE %in% 20:62) %>%
arrange(desc(AGE))
df %>% select(-AMIS, -RESNB) %>%
filter(AGE > 60,
SEXE == "Une femme",
MASQUE == "Oui")
df <- openxlsx::read.xlsx("Sources/DONNEES_RJC_18_11.xlsx", colNames = TRUE)
df2 <- df %>% select(starts_with("Dans.quelle(s).discipline(s).avez-vous.obtenu.votre.(vos).master(s)"))
for (i in 1:length(names(df2))) {
print(as.character(col_names[i]))
df2[i][df2[i] !="Oui" & df2[i] !="Non" & is.na(df2[i]) == F] <- "Autre"
df2[i][df2[i]=="Oui"] <- as.character(col_names[i])
df2[i][df2[i]=="Non"] <- NA
df2[i][is.na(df2[i])] <- NA
}
col_names <- c("Anthropologie/ethnologie", "Économie", "Droit", "Géographie", "Histoire", "Philosophie", "Psychologie", "Santé.publique", "Sciences.de.gestion.et.management", "Sciences.de.l’éducation", "Sciences.de.l’information.et.de.la.communication", "Sciences.politiques", "Sociologie", "STAPS", "Autre")
for (i in 1:length(names(df2))) {
print(as.character(col_names[i]))
df2[i][df2[i] !="Oui" & df2[i] !="Non" & is.na(df2[i]) == F] <- "Autre"
df2[i][df2[i]=="Oui"] <- as.character(col_names[i])
df2[i][df2[i]=="Non"] <- NA
df2[i][is.na(df2[i])] <- NA
}
df2 %>%
kable(booktabs = TRUE) %>%
kable_styling(font_size = 15, "striped", fixed_thead = TRUE) %>%
scroll_box(width = "1000px", height = "400px")
df2 <- unite(df2, "Dans.quelle(s).discipline(s).avez-vous.obtenu.votre.(vos).master(s).?", names(df2), sep = "-", na.rm = T)
df2$`Dans.quelle(s).discipline(s).avez-vous.obtenu.votre.(vos).master(s).?`[df2$`Dans.quelle(s).discipline(s).avez-vous.obtenu.votre.(vos).master(s).?` == ""] <- NA
df2$`Dans.quelle(s).discipline(s).avez-vous.obtenu.votre.(vos).master(s).?` %>% freq() %>% arrange(desc(n))
df2$`Dans.quelle(s).discipline(s).avez-vous.obtenu.votre.(vos).master(s).?` %>% freq()# %>% arrange(desc(n))
df2$`Dans.quelle(s).discipline(s).avez-vous.obtenu.votre.(vos).master(s).?` %>% freq() %>% arrange(desc(n))
df <- openxlsx::read.xlsx("Sources/DONNEES_RJC_18_11.xlsx", colNames = TRUE)
df <- df %>% select(starts_with("Dans.quelle(s).discipline(s).avez-vous.obtenu.votre.(vos).master(s)"))
df[df == "N/A"] <- NA
df %>%
kable(booktabs = TRUE) %>%
kable_styling(font_size = 15, "striped", fixed_thead = TRUE) %>%
scroll_box(width = "1000px", height = "400px")
bookdown::render_book("index.Rmd", "bookdown::gitbook")
bookdown::render_book("index.rmd", "bookdown::gitbook")
bookdown::render_book("./bookdown/index.rmd", "bookdown::gitbook")
render_book()
bookdown::render_book()
bookdown::render_book("./bookdown/")
bookdown::render_book("./bookdown/")
bookdown::render_book("./bookdown/")
bookdown::render_book("./bookdown/")
bookdown::render_book("./bookdown/")
bookdown::render_book("./bookdown/")
bookdown::render_book("./bookdown/")
df <- read.xlsx("../Sources/vico2020.xlsx")
tibble(df) %>%
kable(booktabs = TRUE) %>%
kable_styling(font_size = 15, "striped", fixed_thead = TRUE) %>%
scroll_box(width = "1000px", height = "400px")
tmp <- table(df$PCS_rec6, df$REV) %>%
as.data.frame() %>%
pivot_wider(names_from = Var1, values_from = Freq)
colnames <- tmp %>%
select(-Var2) %>% colnames()
Tot <- c("Total")
for (col in colnames) {
Tot <- append(Tot, sum(tmp[col]))
}
tmp
tmp$Var2 <- as.character(tmp$Var2)
tmp <- rbind(tmp, Tot)
for (col in colnames) {
tmp[col] <- as.double(tmp[[col]])
}
tmp$Tot_C <- tmp %>%
select(-Var2) %>%
rowSums()
tmp %>% relocate(Tot_C, .before = `Agriculteurs, agricultrices`) %>% arrange(desc(Tot_C))
bookdown::render_book("index.Rmd", "bookdown::gitbook")
bookdown::render_book("./bookdown/")
bookdown::render_book("./bookdown/")
bookdown::render_book("./bookdown/")
