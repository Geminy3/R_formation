<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Recoder des variables quantitatives | Introduction au recodage avec R</title>
  <meta name="description" content="Guide pour apprendre le recodage avec R, à l’attention des débutants, et des plus à l’aise" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Recoder des variables quantitatives | Introduction au recodage avec R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Guide pour apprendre le recodage avec R, à l’attention des débutants, et des plus à l’aise" />
  <meta name="github-repo" content="true" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Recoder des variables quantitatives | Introduction au recodage avec R" />
  
  <meta name="twitter:description" content="Guide pour apprendre le recodage avec R, à l’attention des débutants, et des plus à l’aise" />
  

<meta name="author" content="Aljoscha Massein" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="premier-recodage.html"/>
<link rel="next" href="sélectionner-linformation-avec-dplyr.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#formation-au-recodage-de-données"><i class="fa fa-check"></i>Formation au recodage de données</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="importer-des-jeux-de-données.html"><a href="importer-des-jeux-de-données.html"><i class="fa fa-check"></i><b>1</b> Importer des jeux de données</a></li>
<li class="chapter" data-level="2" data-path="premier-recodage.html"><a href="premier-recodage.html"><i class="fa fa-check"></i><b>2</b> Premier recodage</a>
<ul>
<li class="chapter" data-level="2.1" data-path="premier-recodage.html"><a href="premier-recodage.html#recoder-des-modalités"><i class="fa fa-check"></i><b>2.1</b> Recoder des modalités</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="premier-recodage.html"><a href="premier-recodage.html#ifelse"><i class="fa fa-check"></i><b>2.1.1</b> ifelse</a></li>
<li class="chapter" data-level="2.1.2" data-path="premier-recodage.html"><a href="premier-recodage.html#case_when"><i class="fa fa-check"></i><b>2.1.2</b> case_when</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="recoder-des-variables-quantitatives.html"><a href="recoder-des-variables-quantitatives.html"><i class="fa fa-check"></i><b>3</b> Recoder des variables quantitatives</a>
<ul>
<li class="chapter" data-level="3.1" data-path="recoder-des-variables-quantitatives.html"><a href="recoder-des-variables-quantitatives.html#tests-et-condition"><i class="fa fa-check"></i><b>3.1</b> Tests et condition</a></li>
<li class="chapter" data-level="3.2" data-path="recoder-des-variables-quantitatives.html"><a href="recoder-des-variables-quantitatives.html#exercices"><i class="fa fa-check"></i><b>3.2</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="sélectionner-linformation-avec-dplyr.html"><a href="sélectionner-linformation-avec-dplyr.html"><i class="fa fa-check"></i><b>4</b> Sélectionner l’information avec dplyr</a>
<ul>
<li class="chapter" data-level="4.1" data-path="sélectionner-linformation-avec-dplyr.html"><a href="sélectionner-linformation-avec-dplyr.html#select-et-filter"><i class="fa fa-check"></i><b>4.1</b> select() et filter()</a></li>
<li class="chapter" data-level="4.2" data-path="sélectionner-linformation-avec-dplyr.html"><a href="sélectionner-linformation-avec-dplyr.html#arrange-count"><i class="fa fa-check"></i><b>4.2</b> arrange() &amp; count()</a></li>
<li class="chapter" data-level="4.3" data-path="sélectionner-linformation-avec-dplyr.html"><a href="sélectionner-linformation-avec-dplyr.html#mutate-groupby"><i class="fa fa-check"></i><b>4.3</b> Mutate() &amp; groupby()</a></li>
<li class="chapter" data-level="4.4" data-path="sélectionner-linformation-avec-dplyr.html"><a href="sélectionner-linformation-avec-dplyr.html#what-the-pipe"><i class="fa fa-check"></i><b>4.4</b> What %&gt;% the %&gt;% pipe</a></li>
<li class="chapter" data-level="4.5" data-path="sélectionner-linformation-avec-dplyr.html"><a href="sélectionner-linformation-avec-dplyr.html#summarise"><i class="fa fa-check"></i><b>4.5</b> summarise()</a></li>
<li class="chapter" data-level="4.6" data-path="sélectionner-linformation-avec-dplyr.html"><a href="sélectionner-linformation-avec-dplyr.html#exercices-1"><i class="fa fa-check"></i><b>4.6</b> Exercices :</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="boucles-fonctions-et-conditions.html"><a href="boucles-fonctions-et-conditions.html"><i class="fa fa-check"></i><b>5</b> Boucles, fonctions et conditions</a>
<ul>
<li class="chapter" data-level="5.1" data-path="boucles-fonctions-et-conditions.html"><a href="boucles-fonctions-et-conditions.html#boucles"><i class="fa fa-check"></i><b>5.1</b> Boucles</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="boucles-fonctions-et-conditions.html"><a href="boucles-fonctions-et-conditions.html#pourquoi-les-boucles-for-et-les-conditions-sont-à-éviter"><i class="fa fa-check"></i><b>5.1.1</b> Pourquoi les boucles for et les conditions sont à éviter ?</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="boucles-fonctions-et-conditions.html"><a href="boucles-fonctions-et-conditions.html#conditions"><i class="fa fa-check"></i><b>5.2</b> Conditions</a></li>
<li class="chapter" data-level="5.3" data-path="boucles-fonctions-et-conditions.html"><a href="boucles-fonctions-et-conditions.html#fonctions"><i class="fa fa-check"></i><b>5.3</b> Fonctions</a></li>
<li class="chapter" data-level="5.4" data-path="boucles-fonctions-et-conditions.html"><a href="boucles-fonctions-et-conditions.html#exercices-2"><i class="fa fa-check"></i><b>5.4</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="exercices-3.html"><a href="exercices-3.html"><i class="fa fa-check"></i><b>6</b> Exercices</a>
<ul>
<li class="chapter" data-level="6.1" data-path="exercices-3.html"><a href="exercices-3.html#recodage-simple-et-afficahge-de-données"><i class="fa fa-check"></i><b>6.1</b> recodage simple et afficahge de données</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="exercices-3.html"><a href="exercices-3.html#afficher-les-10-premiers-puis-les-20-derniers-individus-du-tableau-df"><i class="fa fa-check"></i><b>6.1.1</b> Afficher les 10 premiers puis les 20 derniers individus du tableau <code>df</code></a></li>
<li class="chapter" data-level="6.1.2" data-path="exercices-3.html"><a href="exercices-3.html#afficher-uniquement-les-individus-qui-ont-moins-de-60-ans-et-qui-exerce-une-profession-variable-occup"><i class="fa fa-check"></i><b>6.1.2</b> Afficher uniquement les individus qui ont moins de 60 ans et qui <code>Exerce une profession</code> (variable <code>occup</code>)</a></li>
<li class="chapter" data-level="6.1.3" data-path="exercices-3.html"><a href="exercices-3.html#afficher-le-nom-des-colonnes-du-tableau"><i class="fa fa-check"></i><b>6.1.3</b> Afficher le nom des colonnes du tableau</a></li>
<li class="chapter" data-level="6.1.4" data-path="exercices-3.html"><a href="exercices-3.html#afficher-seulement-les-colonnes-age-poids-relig-et-occup"><i class="fa fa-check"></i><b>6.1.4</b> Afficher seulement les colonnes <code>age</code>, <code>poids</code>, <code>relig</code> et <code>occup</code></a></li>
<li class="chapter" data-level="6.1.5" data-path="exercices-3.html"><a href="exercices-3.html#afficher-les-loisirs-chard.rocklecture.bd-peche.chasse-cuisine-bricol-cinema-sport-heures.tv-des-femmes-de-plus-de-60-ans"><i class="fa fa-check"></i><b>6.1.5</b> Afficher les loisirs <code>c("hard.rock","lecture.bd", "peche.chasse", "cuisine", "bricol",  "cinema", "sport", "heures.tv")</code> des femmes de plus de 60 ans</a></li>
<li class="chapter" data-level="6.1.6" data-path="exercices-3.html"><a href="exercices-3.html#afficher-le-nombre-de-lignes-et-le-nombre-de-colonne-du-tableau-des-hommes"><i class="fa fa-check"></i><b>6.1.6</b> Afficher le nombre de lignes et le nombre de colonne du tableau des hommes</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="exercices-3.html"><a href="exercices-3.html#recodage"><i class="fa fa-check"></i><b>6.2</b> Recodage</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="exercices-3.html"><a href="exercices-3.html#recoder-la-variable-sexe-de-manière-à-ce-que-les-modalités-homme-et-femme-soit-égale-à-h-f-dans-une-nouvelle-variable-sexe_reco"><i class="fa fa-check"></i><b>6.2.1</b> Recoder la variable sexe de manière à ce que les modalités <code>Homme</code> et <code>Femme</code> soit égale à <code>H</code>, <code>F</code> dans une nouvelle variable <code>sexe_reco</code></a></li>
<li class="chapter" data-level="6.2.2" data-path="exercices-3.html"><a href="exercices-3.html#recoder-les-modalités-de-la-variable-clso-avec-la-fonction-fct_recode-pour-regrouper-les-ouvriers-dans-une-nouvelle-variable-qualif_reco."><i class="fa fa-check"></i><b>6.2.2</b> Recoder les modalités de la variable clso (avec la fonction fct_recode()) pour regrouper les ouvriers dans une nouvelle variable <code>qualif_reco</code>.</a></li>
<li class="chapter" data-level="6.2.3" data-path="exercices-3.html"><a href="exercices-3.html#supprimer-les-deux-nouvelles-colonnes-que-nous-avons-créé-sexe_reco-et-qualif_reco"><i class="fa fa-check"></i><b>6.2.3</b> Supprimer les deux nouvelles colonnes que nous avons créé <code>sexe_reco</code> et <code>qualif_reco</code></a></li>
<li class="chapter" data-level="6.2.4" data-path="exercices-3.html"><a href="exercices-3.html#recoder-la-variable-age-dans-une-nouvelle-variable-age_reco-en-créant-5-classes-dâge"><i class="fa fa-check"></i><b>6.2.4</b> recoder la variable age dans une nouvelle variable <code>age_reco</code>, en créant 5 classes d’âge :</a></li>
<li class="chapter" data-level="6.2.5" data-path="exercices-3.html"><a href="exercices-3.html#recoder-les-ages-en-5-classes-dont-vous-définirez-les-limites-et-renommer-chacune-de-ces-modalités-garder-à-lesprit-que-les-sorties-de-la-fonction-sont-des-facteurs"><i class="fa fa-check"></i><b>6.2.5</b> Recoder les ages en 5 classes dont vous définirez les limites, et renommer chacune de ces modalités (garder à l’esprit que les sorties de la fonction sont des facteurs !) :</a></li>
<li class="chapter" data-level="6.2.6" data-path="exercices-3.html"><a href="exercices-3.html#réaliser-le-tableau-de-fréquence-de-votre-variable-age_reco-et-trier-par-ordre-décroissant"><i class="fa fa-check"></i><b>6.2.6</b> Réaliser le tableau de fréquence de votre variable <code>age_reco</code>, et trier par ordre décroissant :</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction au recodage avec R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="recoder-des-variables-quantitatives" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> Recoder des variables quantitatives<a href="recoder-des-variables-quantitatives.html#recoder-des-variables-quantitatives" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>De la même manière que l’on peut recoder des variables qualitatives, on peut découper des variables quantitatives en groupe, par exemple si l’on souhaite regrouper tous les individus entre 18-25 ans,…</p>
<p>Pour cette opération, nous utilisons la fonction <code>cut</code> qui permet de donner soit un nombre de classe, soit des vecteurs de tranche numérique, par exemple <code>c(0, 18, 25, ...)</code></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="recoder-des-variables-quantitatives.html#cb24-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>AGEclasse <span class="ot">&lt;-</span> <span class="fu">cut</span>(df<span class="sc">$</span>AGE, <span class="at">breaks =</span> <span class="dv">5</span>) <span class="do">### On ne garde que 5 </span></span>
<span id="cb24-2"><a href="recoder-des-variables-quantitatives.html#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(df<span class="sc">$</span>AGEclasse)</span></code></pre></div>
<pre><code>##               n    % val%
## (17.9,29.2] 368 18.4 18.4
## (29.2,40.4] 490 24.5 24.5
## (40.4,51.6] 488 24.4 24.4
## (51.6,62.8] 371 18.6 18.6
## (62.8,74.1] 283 14.1 14.1</code></pre>
<p>On peut essayer la même fonction en assignant un vecteur avec nos classes d’âge :</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="recoder-des-variables-quantitatives.html#cb26-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>AGEclasse <span class="ot">&lt;-</span> <span class="fu">cut</span>(df<span class="sc">$</span>AGE, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">18</span>, <span class="dv">25</span>, <span class="dv">40</span>, <span class="dv">60</span>, <span class="dv">80</span>))</span>
<span id="cb26-2"><a href="recoder-des-variables-quantitatives.html#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">freq</span>(df<span class="sc">$</span>AGEclasse)</span></code></pre></div>
<pre><code>##           n    % val%
## (0,18]    8  0.4  0.4
## (18,25] 205 10.2 10.2
## (25,40] 645 32.2 32.2
## (40,60] 803 40.2 40.2
## (60,80] 339 17.0 17.0</code></pre>
<p>On remarque que contrairement aux fonctions que nous avons utilisé avant, nous ne donnons pas qu’un seul <strong>argument</strong> à la fonction <code>cut()</code>. En effet, la très grande majorité des fonctions prennent plusieurs arguments, pour ajouter des options dans le traitement des données. Ici, c’est l’argument <code>breaks</code> qui est utilisé. On le retrouve également dans les fonctions permettant de créer des graphiques d’histogramme par exemple.</p>
<p>On remarque également que nous avons créé une nouvelle variable <code>AGEclasse</code> , sans que R ne bronche. On peut créer de nouvelles variables dans un tableau assez simplement, et c’est recommandé pour ne pas perdre les informations existantes.</p>
<p>Si l’on souhaite créer un nouveau tableau avec les variables transformées, il est conseillé de créer un nouvelle objet qui reprend le même tableau. Voici un exemple de manipulation qui peuvent être réalisées</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="recoder-des-variables-quantitatives.html#cb28-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> openxlsx<span class="sc">::</span><span class="fu">read.xlsx</span>(<span class="st">&quot;../Sources/vico2020.xlsx&quot;</span>, <span class="at">colNames =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-2"><a href="recoder-des-variables-quantitatives.html#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="recoder-des-variables-quantitatives.html#cb28-3" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>AGEclasse <span class="ot">&lt;-</span> df<span class="sc">$</span>AGEclasse <span class="ot">&lt;-</span> <span class="fu">cut</span>(df<span class="sc">$</span>AGE, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">18</span>, <span class="dv">25</span>, <span class="dv">40</span>, <span class="dv">60</span>, <span class="dv">80</span>))</span>
<span id="cb28-4"><a href="recoder-des-variables-quantitatives.html#cb28-4" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Sexe_reco <span class="ot">&lt;-</span> df<span class="sc">$</span>SEXE <span class="ot">&lt;-</span> <span class="fu">case_when</span>(</span>
<span id="cb28-5"><a href="recoder-des-variables-quantitatives.html#cb28-5" aria-hidden="true" tabindex="-1"></a>  df<span class="sc">$</span>SEXE <span class="sc">==</span> <span class="st">&quot;Un homme&quot;</span> <span class="sc">&amp;</span> df<span class="sc">$</span>AGE <span class="sc">&gt;</span> <span class="dv">60</span> <span class="sc">~</span> <span class="st">&quot;H+60&quot;</span>,</span>
<span id="cb28-6"><a href="recoder-des-variables-quantitatives.html#cb28-6" aria-hidden="true" tabindex="-1"></a>  df<span class="sc">$</span>SEXE <span class="sc">==</span> <span class="st">&quot;Une femme&quot;</span> <span class="sc">&amp;</span> df<span class="sc">$</span>AGE <span class="sc">&gt;</span> <span class="dv">60</span> <span class="sc">~</span> <span class="st">&quot;F+60&quot;</span>,</span>
<span id="cb28-7"><a href="recoder-des-variables-quantitatives.html#cb28-7" aria-hidden="true" tabindex="-1"></a>  df<span class="sc">$</span>SEXE <span class="sc">==</span> <span class="st">&quot;Un homme&quot;</span> <span class="sc">~</span> <span class="st">&quot;H-60&quot;</span>,</span>
<span id="cb28-8"><a href="recoder-des-variables-quantitatives.html#cb28-8" aria-hidden="true" tabindex="-1"></a>  df<span class="sc">$</span>SEXE <span class="sc">==</span> <span class="st">&quot;Une femme&quot;</span> <span class="sc">~</span> <span class="st">&quot;f-60&quot;</span>,</span>
<span id="cb28-9"><a href="recoder-des-variables-quantitatives.html#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;Autre&quot;</span></span>
<span id="cb28-10"><a href="recoder-des-variables-quantitatives.html#cb28-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb28-11"><a href="recoder-des-variables-quantitatives.html#cb28-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-12"><a href="recoder-des-variables-quantitatives.html#cb28-12" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> df[<span class="fu">c</span>(<span class="st">&quot;AGEclasse&quot;</span>, <span class="st">&quot;Sexe_reco&quot;</span>)]</span>
<span id="cb28-13"><a href="recoder-des-variables-quantitatives.html#cb28-13" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df2)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">AGEclasse</th>
<th align="left">Sexe_reco</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(25,40]</td>
<td align="left">f-60</td>
</tr>
<tr class="even">
<td align="left">(25,40]</td>
<td align="left">f-60</td>
</tr>
<tr class="odd">
<td align="left">(18,25]</td>
<td align="left">f-60</td>
</tr>
<tr class="even">
<td align="left">(40,60]</td>
<td align="left">f-60</td>
</tr>
<tr class="odd">
<td align="left">(40,60]</td>
<td align="left">f-60</td>
</tr>
<tr class="even">
<td align="left">(25,40]</td>
<td align="left">H-60</td>
</tr>
</tbody>
</table>
<div id="renommer-des-variables" class="section level4 hasAnchor" number="3.0.0.1">
<h4><span class="header-section-number">3.0.0.1</span> Renommer des variables<a href="recoder-des-variables-quantitatives.html#renommer-des-variables" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>On peut très facilement renommer des variables avec R, en utilisant notamment la fonction <code>rename()</code> du tidyverse.
Il faut assez simplement fournir plusieurs informations à la fonction :</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="recoder-des-variables-quantitatives.html#cb29-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">rename</span>(df, </span>
<span id="cb29-2"><a href="recoder-des-variables-quantitatives.html#cb29-2" aria-hidden="true" tabindex="-1"></a>       <span class="st">&#39;POLITIQUE&#39;</span> <span class="ot">=</span> <span class="st">&#39;POL&#39;</span>,</span>
<span id="cb29-3"><a href="recoder-des-variables-quantitatives.html#cb29-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">&#39;Niveau_de_diplôme&#39;</span> <span class="ot">=</span> <span class="st">&#39;DIPLONIV&#39;</span>)</span>
<span id="cb29-4"><a href="recoder-des-variables-quantitatives.html#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&#39;POL&#39;</span>, <span class="st">&#39;Niveau_de_diplôme&#39;</span>) <span class="sc">%in%</span> <span class="fu">names</span>(df) </span></code></pre></div>
<pre><code>## [1] FALSE  TRUE</code></pre>
<p>On voit que la syntaxe est un peu particulière puisqu’elle prend la forme <code>nouveau_nom = ancien_nom</code>.
Nous utilisons également l’opérateur <code>%in%</code> qui permet de tester si un des éléments de notre vecteur à gauche de l’expression est présent dans le vecteur (ou l’objet) à droite de l’expression. Ce test nous renvoit des valeurs “vrai” ou “faux” qui permettent de tester et de sélectionner de l’information.</p>
</div>
<div id="tests-et-condition" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Tests et condition<a href="recoder-des-variables-quantitatives.html#tests-et-condition" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Toutes les sélections fondées sur des tests de conditions fonctionnent de cette manière : si l’on regarde en détails les sorties de cette opération :</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="recoder-des-variables-quantitatives.html#cb31-1" aria-hidden="true" tabindex="-1"></a>(df<span class="sc">$</span>AGE <span class="sc">&lt;</span> <span class="dv">60</span>)[<span class="dv">0</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  [1]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE</code></pre>
<p>Les résultats sont un vecteur de la même longueur avec des résultats vrais ou faux. c’est avec ces vecteurs de type <code>logical</code>, qu’on appelle également booléens dans d’autres langages informatiques, que l’on peut sélectionner de l’information :</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="recoder-des-variables-quantitatives.html#cb33-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="cn">TRUE</span>,<span class="fu">length</span>(df<span class="sc">$</span>AGE)<span class="sc">/</span><span class="dv">2</span>), <span class="fu">rep</span>(<span class="cn">FALSE</span>,<span class="fu">length</span>(df<span class="sc">$</span>AGE)<span class="sc">/</span><span class="dv">2</span>)) <span class="do">### On créer des TRUE et des FALSE de la longueur de notre tableau</span></span>
<span id="cb33-2"><a href="recoder-des-variables-quantitatives.html#cb33-2" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> test[<span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(test))]                    <span class="do">### On ditribue aléatoirement les TRUE et les FALSE</span></span>
<span id="cb33-3"><a href="recoder-des-variables-quantitatives.html#cb33-3" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>AGE[test][<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>]                                     <span class="do">### On regard les 100 premières valeurs de df$AGE qui correspondent au test</span></span></code></pre></div>
<pre><code>##   [1] 30 30 24 35 35 64 59 74 26 53 34 41 22 49 32 28 70 46 49 25 59 58 49 35 20 38 38 55 59 51 68 26 32 25 33 29 36 69 67 26 48 34 51 45 44 51 69 53 66 47 64 50 47 46 33
##  [56] 52 26 49 32 46 22 35 31 38 55 19 34 46 24 30 51 26 45 45 50 32 40 48 50 65 59 46 39 28 70 64 46 42 45 41 66 54 60 48 68 50 33 20 59 72</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="recoder-des-variables-quantitatives.html#cb35-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>AGE[<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>]                                           <span class="do">### On regarde les 100 premières valeurs de df$AGE</span></span></code></pre></div>
<pre><code>##   [1] 30 30 24 45 57 35 35 36 21 64 59 55 74 26 68 20 26 53 47 34 20 41 22 39 48 49 33 26 26 45 32 19 21 28 56 70 66 38 46 45 73 49 25 39 59 58 49 43 67 35 20 63 38 38 72
##  [56] 55 59 51 52 53 68 20 26 37 25 32 45 25 48 33 24 29 46 53 36 69 53 67 26 61 48 34 26 51 24 25 45 74 34 63 45 35 44 51 51 46 38 24 69 69</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="recoder-des-variables-quantitatives.html#cb37-1" aria-hidden="true" tabindex="-1"></a>(df<span class="sc">$</span>AGE[<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>] <span class="sc">==</span> df<span class="sc">$</span>AGE[test][<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>])                 <span class="do">### On compare si les valeurs sont les mêmes</span></span></code></pre></div>
<pre><code>##   [1]  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [28] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [55] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
##  [82] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<p>C’est de cette manière que l’on peut sélectionne de l’information “manuellement”. Nous verrons plus tard comment fonctionne le <code>tidyverse</code>, et en particulier les fonctions du <code>dplyr</code>.</p>
</div>
<div id="exercices" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Exercices<a href="recoder-des-variables-quantitatives.html#exercices" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="on-souhaite-a-présent-recoder-la-variable-numérique-resnb-en-catégorie.-recodez-la-variable-tel-quil-existe-des-groupes-de-1-2-3-à-5-et-plus-de-5-personnes." class="section level4 hasAnchor" number="3.2.0.1">
<h4><span class="header-section-number">3.2.0.1</span> On souhaite a présent recoder la variable <strong>numérique</strong> <code>RESNB</code> en catégorie. Recodez la variable tel qu’il existe des groupes de 1, 2, 3 à 5 et plus de 5 personnes.<a href="recoder-des-variables-quantitatives.html#on-souhaite-a-présent-recoder-la-variable-numérique-resnb-en-catégorie.-recodez-la-variable-tel-quil-existe-des-groupes-de-1-2-3-à-5-et-plus-de-5-personnes." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">n</th>
<th align="right">%</th>
<th align="right">val%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(0,1]</td>
<td align="right">438</td>
<td align="right">21.9</td>
<td align="right">21.9</td>
</tr>
<tr class="even">
<td align="left">(1,2]</td>
<td align="right">668</td>
<td align="right">33.4</td>
<td align="right">33.4</td>
</tr>
<tr class="odd">
<td align="left">(2,5]</td>
<td align="right">873</td>
<td align="right">43.6</td>
<td align="right">43.6</td>
</tr>
<tr class="even">
<td align="left">(5,13]</td>
<td align="right">21</td>
<td align="right">1.0</td>
<td align="right">1.0</td>
</tr>
</tbody>
</table>
</div>
<div id="renommez-ensuite-les-catégories-en-seul-couple-famille-grande_famille" class="section level4 hasAnchor" number="3.2.0.2">
<h4><span class="header-section-number">3.2.0.2</span> Renommez ensuite les catégories en <code>seul</code>, <code>couple</code>, <code>famille</code>, <code>grande_famille</code><a href="recoder-des-variables-quantitatives.html#renommez-ensuite-les-catégories-en-seul-couple-famille-grande_famille" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">n</th>
<th align="right">%</th>
<th align="right">val%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">seul</td>
<td align="right">438</td>
<td align="right">21.9</td>
<td align="right">21.9</td>
</tr>
<tr class="even">
<td align="left">couple</td>
<td align="right">668</td>
<td align="right">33.4</td>
<td align="right">33.4</td>
</tr>
<tr class="odd">
<td align="left">famille</td>
<td align="right">873</td>
<td align="right">43.6</td>
<td align="right">43.6</td>
</tr>
<tr class="even">
<td align="left">grande_famille</td>
<td align="right">21</td>
<td align="right">1.0</td>
<td align="right">1.0</td>
</tr>
</tbody>
</table>
<p>Renommez la variable <code>RESNB_reco</code> en <code>Type_RES</code></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="recoder-des-variables-quantitatives.html#cb39-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">rename</span>(df,</span>
<span id="cb39-2"><a href="recoder-des-variables-quantitatives.html#cb39-2" aria-hidden="true" tabindex="-1"></a>       <span class="st">&#39;Type_RES&#39;</span> <span class="ot">=</span> <span class="st">&#39;RESNB_reco&#39;</span>)</span>
<span id="cb39-3"><a href="recoder-des-variables-quantitatives.html#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df)</span></code></pre></div>
<pre><code>##  [1] &quot;ID&quot;                &quot;SEXE&quot;              &quot;AGE&quot;               &quot;SITCONJ&quot;           &quot;RESNB&quot;             &quot;RESISOL&quot;           &quot;LOGAUTRE&quot;          &quot;MASQUE&quot;           
##  [9] &quot;TEMPS&quot;             &quot;INQUIET&quot;           &quot;VOISINS&quot;           &quot;CONTROL&quot;           &quot;AMIS&quot;              &quot;FAMILLE&quot;           &quot;POLITIQUE&quot;         &quot;Niveau_de_diplôme&quot;
## [17] &quot;SITPROF_rec&quot;       &quot;PCS_rec6&quot;          &quot;REV&quot;               &quot;POIDS_init&quot;        &quot;AGEclasse&quot;         &quot;Sexe_reco&quot;         &quot;Type_RES&quot;</code></pre>
<p>On souhaite maintenant créer une nouvelle variable pour observer le port du masque en fonction du Sexe qu’on appellera <code>MASQUE_SEXE</code>.
Proposez un recodage pour cette variable.</p>
<pre><code>##            n    % val%
## F_masque 766 38.3 38.3
## F_non    696 34.8 34.8
## H_non    315 15.8 15.8
## H_masque 223 11.2 11.2</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">n</th>
<th align="right">%</th>
<th align="right">val%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">F_masque</td>
<td align="right">766</td>
<td align="right">38.3</td>
<td align="right">38.3</td>
</tr>
<tr class="even">
<td align="left">F_non</td>
<td align="right">696</td>
<td align="right">34.8</td>
<td align="right">34.8</td>
</tr>
<tr class="odd">
<td align="left">H_non</td>
<td align="right">315</td>
<td align="right">15.8</td>
<td align="right">15.8</td>
</tr>
<tr class="even">
<td align="left">H_masque</td>
<td align="right">223</td>
<td align="right">11.2</td>
<td align="right">11.2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="premier-recodage.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sélectionner-linformation-avec-dplyr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
